<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOAQUIN MAX CUEVAS VENTURA | Portafolio 2025 - Arquitectura y diseño gráfico</title>
    
    <!-- ==============================================
         SEO Y METADATOS (OPTIMIZADO)
    =============================================== -->
    <meta name="description" content="Portafolio de Joaquin Max Cuevas: Arquitecto (UMSA) y Diseñador Gráfico (Atenea). Fusión de lógica espacial y comunicación visual en La Paz, Bolivia.">
    <meta name="keywords" content="Joaquin Max, Portafolio, Arquitectura, Diseño Gráfico, Branding, La Paz, Bolivia, UMSA, Atenea, Editorial, Identidad Visual, Arquitectura Collage">
    <meta name="author" content="Joaquin Max Cuevas Ventura">
    <meta name="robots" content="index, follow">
    
    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://joaquinmaxcuevasventura.github.io/JoaquinMaxCuevasVentura-Portafolio2025/">
    
    <!-- OPEN GRAPH (WhatsApp, LinkedIn, Facebook) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="JOAQUIN MAX CUEVAS VENTURA | Portafolio 2025">
    <meta property="og:description" content="Arquitectura y Diseño Gráfico. Proyectos de arquitectura, branding e identidad visual.">
    <meta property="og:image" content="https://joaquinmaxcuevasventura.github.io/JoaquinMaxCuevasVentura-Portafolio2025/social-preview.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Portafolio de Joaquin Max Cuevas Ventura - Arquitectura y Diseño Gráfico">
    <meta property="og:url" content="https://joaquinmaxcuevasventura.github.io/JoaquinMaxCuevasVentura-Portafolio2025/">
    <meta property="og:site_name" content="Joaquin Max Cuevas Ventura Portfolio">
    <meta property="og:locale" content="es_BO">
    
    <!-- TWITTER CARDS -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="JOAQUIN MAX CUEVAS VENTURA | Portafolio 2025">
    <meta name="twitter:description" content="Arquitectura y Diseño Gráfico. Proyectos de arquitectura, branding e identidad visual.">
    <meta name="twitter:image" content="https://joaquinmaxcuevasventura.github.io/JoaquinMaxCuevasVentura-Portafolio2025/social-preview.jpg">
    <meta name="twitter:image:alt" content="Portafolio de Joaquin Max Cuevas Ventura">
    
    <!-- FAVICON (Generado por código SVG) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23050505'/><text x='50' y='70' font-family='sans-serif' font-weight='bold' font-size='60' text-anchor='middle' fill='%23dc6b2f'>J</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23050505'/><text x='50' y='70' font-family='sans-serif' font-weight='bold' font-size='60' text-anchor='middle' fill='%23dc6b2f'>J</text></svg>">
    
    <!-- TEMA MÓVIL -->
    <meta name="theme-color" content="#050505">
    <meta name="msapplication-TileColor" content="#050505">
    
    <!-- ==============================================
         PRECONNECT PARA OPTIMIZACIÓN DE CARGA
    =============================================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://code.jquery.com" crossorigin>
    
    <!-- ==============================================
         ESTILOS Y FUENTES
    =============================================== -->
    <!-- 1. TIPOGRAFÍA -->
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- 2. ESTILOS DFLIP -->
    <link href="https://cdn.jsdelivr.net/npm/@dearhive/dearflip-jquery-flipbook@1.7.3/dflip/css/dflip.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@dearhive/dearflip-jquery-flipbook@1.7.3/dflip/css/themify-icons.min.css" rel="stylesheet">
    
    <!-- 3. ESTILOS TIPPY (Carga diferida no crítica) -->
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css">

    <style>
        /* --- SISTEMA DE DISEÑO --- */
        :root {
            --bg-color: #050505;      
            --accent-color: #dc6b2f;
            --text-main: #FFFFFF;     
            --ui-opacity: 0.8;
            --transition-smooth: cubic-bezier(0.25, 0.8, 0.25, 1);
            --success-color: #4CAF50;
            --error-color: #f44336;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        body, html {
            height: 100%; 
            margin: 0;
            background-color: var(--bg-color);
            font-family: 'Archivo', sans-serif !important;
            overflow: hidden;
        }

        /* SKIP LINK PARA ACCESIBILIDAD */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--accent-color);
            color: var(--bg-color);
            padding: 8px 16px;
            z-index: 10000;
            font-weight: 700;
            text-decoration: none;
            transition: top 0.3s;
        }
        .skip-link:focus {
            top: 0;
        }

        /* FONDO */
        #grained-container {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            z-index: 0; 
            pointer-events: none;
        }

        /* VISOR */
        #flipbook-container {
            height: 100vh; 
            width: 100vw; 
            position: relative; 
            z-index: 10; 
        }

        /* PANTALLA DE CARGA */
        #pdf-loader {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            background: var(--bg-color); 
            z-index: 1000;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        #pdf-loader.hidden { 
            opacity: 0; 
            visibility: hidden; 
            pointer-events: none; 
        }
        #pdf-loader.error .loader-spinner {
            border-top-color: var(--error-color);
            animation: none;
        }
        .loader-spinner {
            width: 40px; 
            height: 40px; 
            border: 2px solid rgba(255,255,255,0.1);
            border-top-color: var(--accent-color); 
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .loader-text {
            margin-top: 20px; 
            color: var(--text-main); 
            font-size: 12px;
            letter-spacing: 2px; 
            text-transform: uppercase; 
            opacity: 0.7;
            text-align: center;
            max-width: 280px;
            line-height: 1.6;
        }
        .loader-text.error {
            color: var(--error-color);
        }
        .loader-retry-btn {
            margin-top: 20px;
            background: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 12px 24px;
            font-family: 'Archivo', sans-serif;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .loader-retry-btn:hover,
        .loader-retry-btn:focus {
            background: var(--accent-color);
            color: var(--bg-color);
            outline: none;
        }

        /* PERSONALIZACIÓN UI DFLIP */
        .df-ui-wrapper { 
            background: transparent !important; 
            box-shadow: none !important; 
            border: none !important; 
            padding-bottom: 40px !important; 
        }
        .df-ui-btn {
            background: rgba(255,255,255,0.05) !important; 
            border: 1px solid rgba(255,255,255,0.1) !important;
            border-radius: 50% !important; 
            color: var(--text-main) !important;
            margin: 0 6px !important; 
            width: 40px !important; 
            height: 40px !important;
            display: flex !important; 
            justify-content: center; 
            align-items: center;
            transition: all 0.3s var(--transition-smooth);
        }
        .df-ui-btn:hover, 
        .df-ui-btn:focus,
        .df-ui-btn.active {
            color: var(--bg-color) !important; 
            background: var(--accent-color) !important;
            border-color: var(--accent-color) !important; 
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(220, 107, 47, 0.4) !important;
            outline: none;
        }
        .df-ui-btn:focus-visible {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }
        .df-ui-page input { 
            background: transparent !important; 
            border: none !important; 
            color: var(--text-main) !important; 
            font-family: 'Archivo', sans-serif !important; 
            font-weight: 700; 
        }
        .df-ui-page label, 
        .df-ui-share, 
        .df-ui-download, 
        .df-ui-more { 
            display: none !important; 
        }

        /* MODAL CONTACTO */
        .swal2-popup { 
            background: #111 !important; 
            border: 1px solid #333; 
            color: #fff !important; 
            font-family: 'Archivo', sans-serif !important; 
            border-radius: 0 !important; 
        }
        .swal2-title { 
            color: #fff !important; 
            font-weight: 800 !important; 
            letter-spacing: 1px; 
        }
        .swal2-close:focus {
            box-shadow: none !important;
            outline: 2px solid var(--accent-color) !important;
        }
        
        .contact-link {
            display: flex; 
            align-items: center; 
            margin: 10px 0; 
            color: #fff;
            text-decoration: none; 
            font-size: 15px; 
            transition: all 0.2s ease;
            border: 1px solid #333; 
            padding: 15px; 
            cursor: pointer; 
            background: transparent; 
            width: 100%;
            font-family: 'Archivo', sans-serif;
        }
        .contact-link:hover,
        .contact-link:focus { 
            border-color: var(--accent-color); 
            color: var(--accent-color); 
            outline: none;
        }
        .contact-link:focus-visible {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }
        .contact-link i { 
            margin-right: 12px; 
            color: var(--accent-color); 
            font-size: 18px; 
            flex-shrink: 0;
        }
        .contact-link .contact-text {
            flex: 1;
            text-align: left;
        }
        .contact-link .copy-hint { 
            margin-left: auto; 
            font-size: 10px; 
            opacity: 0.4; 
            text-transform: uppercase; 
            letter-spacing: 1px;
            flex-shrink: 0;
        }
        .contact-link.copied { 
            border-color: var(--success-color) !important; 
            color: var(--success-color) !important; 
        }
        .contact-link.copied i { 
            color: var(--success-color) !important; 
        }
        .contact-link.copied .copy-hint {
            opacity: 1;
        }

        /* TIPPY */
        .tippy-box[data-theme~='custom'] { 
            background-color: var(--accent-color); 
            color: var(--bg-color); 
            font-family: 'Archivo', sans-serif; 
            font-weight: 700; 
            font-size: 10px; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            border-radius: 2px; 
        }
        .tippy-box[data-theme~='custom'] .tippy-arrow { 
            color: var(--accent-color); 
        }

        /* REDUCIR MOVIMIENTO PARA ACCESIBILIDAD */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            .loader-spinner {
                animation: none;
                border-top-color: var(--accent-color);
                border-right-color: var(--accent-color);
            }
        }

        /* OCULTAR VISUALMENTE PERO ACCESIBLE */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <!-- SKIP LINK PARA ACCESIBILIDAD -->
    <a href="#flipbook-container" class="skip-link">Saltar al portafolio</a>

    <!-- LOADER -->
    <div id="pdf-loader" role="status" aria-live="polite" aria-label="Cargando portafolio">
        <div class="loader-spinner" aria-hidden="true"></div>
        <div class="loader-text">Cargando portafolio...</div>
    </div>

    <!-- CONTENEDORES -->
    <div id="grained-container" aria-hidden="true"></div>
    <main id="flipbook-container" role="document" aria-label="Visor de portafolio PDF"></main>

    <!-- ==============================================
         SCRIPTS (ORDEN OPTIMIZADO)
    =============================================== -->
    
    <!-- 1. jQuery (Versión Estable Actualizada) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- 2. dFlip Core (Dependencia directa de jQuery, no puede usar defer) -->
    <script src="https://cdn.jsdelivr.net/npm/@dearhive/dearflip-jquery-flipbook@1.7.3/dflip/js/dflip.min.js"></script>
    
    <!-- 3. Librerías Auxiliares (Con defer para optimizar carga) -->
    <script defer src="https://cdn.jsdelivr.net/npm/grained@0.0.2/grained.min.js"></script>
    <script defer src="https://unpkg.com/@popperjs/core@2"></script>
    <script defer src="https://unpkg.com/tippy.js@6"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        // ==============================================
        // CONFIGURACIÓN Y CONSTANTES
        // ==============================================
        const CONFIG = {
            pdfName: "PORTAFOLIO_2025_JoaquinMaxCuevasVentura_v01.pdf",
            loadTimeout: 30000, // 30 segundos timeout
            contact: {
                email: "JoACKo333@gmail.com",
                phone: "+59178834651",
                phoneDisplay: "+591 788 34 651",
                location: "La Paz, Bolivia"
            }
        };

        // ==============================================
        // A. TEXTURA DE FONDO (Optimizado con detección avanzada)
        // ==============================================
        function initGrainEffect() {
            try {
                // Detección de dispositivo móvil
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                
                // Detección de preferencia de movimiento reducido
                const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                
                // Detección de modo de ahorro de datos
                const saveData = navigator.connection?.saveData || false;
                
                // Detección de CPU lenta (heurística básica)
                const hardwareConcurrency = navigator.hardwareConcurrency || 4;
                const isLowEndDevice = hardwareConcurrency <= 2;

                // Solo activar grano si no hay restricciones
                if (!isMobile && !prefersReducedMotion && !saveData && !isLowEndDevice && typeof grained !== 'undefined') {
                    grained('#grained-container', {
                        animate: true,
                        patternWidth: 100,
                        patternHeight: 100,
                        grainOpacity: 0.04,
                        grainDensity: 1,
                        grainWidth: 1,
                        grainHeight: 1
                    });
                }
            } catch(e) {
                console.info('Efecto grano desactivado:', e.message);
            }
        }

        // Esperar a que grained esté disponible (cargado con defer)
        window.addEventListener('load', initGrainEffect);

        // ==============================================
        // B. FUNCIONES DE UTILIDAD
        // ==============================================
        
        /**
         * Copiar texto al portapapeles con fallback para navegadores antiguos
         * @param {string} text - Texto a copiar
         * @param {HTMLElement} element - Elemento que disparó la acción
         */
        function copyToClipboard(text, element) {
            const hint = element.querySelector('.copy-hint');
            const originalText = hint?.innerText || 'COPIAR';

            // Función para mostrar éxito
            const showSuccess = () => {
                element.classList.add('copied');
                if (hint) hint.innerText = "¡COPIADO!";
                
                // Anunciar a lectores de pantalla
                announceToScreenReader('Texto copiado al portapapeles');
                
                setTimeout(() => {
                    element.classList.remove('copied');
                    if (hint) hint.innerText = originalText;
                }, 2000);
            };

            // Función para mostrar error
            const showError = () => {
                if (hint) hint.innerText = "ERROR";
                setTimeout(() => {
                    if (hint) hint.innerText = originalText;
                }, 2000);
            };

            // Intentar con Clipboard API moderna
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text)
                    .then(showSuccess)
                    .catch(() => {
                        // Fallback a método antiguo
                        fallbackCopyToClipboard(text) ? showSuccess() : showError();
                    });
            } else {
                // Fallback para navegadores antiguos o contextos no seguros
                fallbackCopyToClipboard(text) ? showSuccess() : showError();
            }
        }

        /**
         * Fallback para copiar al portapapeles usando execCommand
         * @param {string} text - Texto a copiar
         * @returns {boolean} - Éxito de la operación
         */
        function fallbackCopyToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.cssText = 'position:fixed;top:0;left:0;width:2em;height:2em;padding:0;border:none;outline:none;box-shadow:none;background:transparent';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                document.body.removeChild(textArea);
                return successful;
            } catch (err) {
                document.body.removeChild(textArea);
                return false;
            }
        }

        /**
         * Anunciar mensaje a lectores de pantalla
         * @param {string} message - Mensaje a anunciar
         */
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'visually-hidden';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            setTimeout(() => announcement.remove(), 1000);
        }

        /**
         * Mostrar error de carga del PDF
         * @param {string} message - Mensaje de error
         */
        function showLoadError(message) {
            const loader = document.getElementById('pdf-loader');
            const loaderText = loader.querySelector('.loader-text');
            
            loader.classList.add('error');
            loaderText.classList.add('error');
            loaderText.innerHTML = message || 'No se pudo cargar el portafolio.<br>Por favor, intenta más tarde.';
            
            // Agregar botón de reintentar
            if (!document.querySelector('.loader-retry-btn')) {
                const retryBtn = document.createElement('button');
                retryBtn.className = 'loader-retry-btn';
                retryBtn.textContent = 'Reintentar';
                retryBtn.setAttribute('aria-label', 'Reintentar carga del portafolio');
                retryBtn.onclick = () => location.reload();
                loader.appendChild(retryBtn);
            }
        }

        /**
         * Manejar tecla Enter/Space para elementos interactivos
         * @param {KeyboardEvent} event - Evento de teclado
         * @param {Function} callback - Función a ejecutar
         */
        function handleKeyboardActivation(event, callback) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                callback();
            }
        }

        // ==============================================
        // C. INICIALIZACIÓN DE DFLIP
        // ==============================================
        jQuery(document).ready(function($) {
            
            let loadTimeout;
            let isLoaded = false;

            // Configuración del visor
            const bookOptions = {
                source: CONFIG.pdfName,
                height: "100%",
                webgl: true,
                backgroundColor: "transparent",
                pageMode: 1, // Auto (Portada simple, resto doble)
                
                // Textos localizados
                text: { 
                    toggleSound: "Sonido", 
                    toggleThumbnails: "Vistas", 
                    toggleOutline: "Índice", 
                    toggleFullscreen: "Pantalla completa" 
                },
                
                // Evento: Al cargar correctamente
                onReady: function() {
                    isLoaded = true;
                    clearTimeout(loadTimeout);
                    $('#pdf-loader').addClass('hidden');
                    
                    // Agregar aria-labels a botones existentes de dFlip
                    enhanceAccessibility();
                    
                    // Inyectar Botón Contacto
                    injectContactButton();
                },

                // Evento: Error de carga (si la librería lo soporta)
                onError: function(error) {
                    console.error('Error al cargar PDF:', error);
                    showLoadError('Error al cargar el portafolio.');
                }
            };

            // Timeout de seguridad para carga
            loadTimeout = setTimeout(() => {
                if (!isLoaded) {
                    showLoadError('La carga está tardando demasiado.<br>Verifica tu conexión a internet.');
                }
            }, CONFIG.loadTimeout);

            // Verificar que el contenedor existe
            if ($("#flipbook-container").length) {
                try {
                    $("#flipbook-container").flipBook(bookOptions.source, bookOptions);
                } catch (error) {
                    console.error('Error inicializando flipBook:', error);
                    showLoadError('Error al inicializar el visor.');
                }
            }

            /**
             * Mejorar accesibilidad de botones de dFlip
             */
            function enhanceAccessibility() {
                // Añadir atributos ARIA a botones existentes
                $('.df-ui-btn').each(function() {
                    const $btn = $(this);
                    const title = $btn.attr('title') || '';
                    
                    $btn.attr({
                        'role': 'button',
                        'aria-label': title,
                        'tabindex': '0'
                    });
                    
                    // Manejar activación por teclado
                    $btn.on('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            $(this).click();
                        }
                    });
                });
            }

            /**
             * Inyectar botón de contacto personalizado
             */
            function injectContactButton() {
                if ($('#btn-contact').length > 0) return;

                const contactBtn = $(`
                    <div class="df-ui-btn df-ui-contact" 
                         id="btn-contact" 
                         title="CONTACTO" 
                         role="button"
                         aria-label="Abrir información de contacto"
                         aria-haspopup="dialog"
                         tabindex="0">
                        <i class="ti-user" aria-hidden="true"></i>
                    </div>
                `);

                $('.df-ui-wrapper').append(contactBtn);
                
                // Inicializar Tooltips cuando Tippy esté disponible
                initTooltips();

                // Eventos del botón
                contactBtn.on('click', openContactModal);
                contactBtn.on('keydown', function(e) {
                    handleKeyboardActivation(e, openContactModal);
                });
            }

            /**
             * Inicializar tooltips de Tippy
             */
            function initTooltips() {
                // Esperar a que Tippy esté disponible
                if (typeof tippy === 'undefined') {
                    setTimeout(initTooltips, 100);
                    return;
                }

                tippy('[title]', { 
                    theme: 'custom',
                    animation: 'scale',
                    content: (reference) => {
                        const title = reference.getAttribute('title');
                        reference.removeAttribute('title'); // Evitar tooltip nativo
                        return title;
                    },
                    touch: false,
                    delay: [200, 0]
                });
            }

            /**
             * Abrir modal de contacto
             */
            function openContactModal() {
                // Esperar a que SweetAlert esté disponible
                if (typeof Swal === 'undefined') {
                    console.warn('SweetAlert2 no está cargado aún');
                    return;
                }

                Swal.fire({
                    title: 'JOAQUIN MAX CUEVAS',
                    html: `
                        <div style="margin-bottom:20px; font-size:12px; opacity:0.6; letter-spacing:2px;">
                            ARQUITECTURA Y DISEÑO
                        </div>
                        <button class="contact-link" 
                                onclick="copyToClipboard('${CONFIG.contact.email}', this)"
                                aria-label="Copiar email: ${CONFIG.contact.email}">
                            <i class="ti-email" aria-hidden="true"></i>
                            <span class="contact-text">${CONFIG.contact.email}</span>
                            <span class="copy-hint" aria-hidden="true">COPIAR</span>
                        </button>
                        <button class="contact-link" 
                                onclick="copyToClipboard('${CONFIG.contact.phone}', this)"
                                aria-label="Copiar teléfono: ${CONFIG.contact.phoneDisplay}">
                            <i class="ti-mobile" aria-hidden="true"></i>
                            <span class="contact-text">${CONFIG.contact.phoneDisplay}</span>
                            <span class="copy-hint" aria-hidden="true">COPIAR</span>
                        </button>
                        <div style="margin-top:15px; color:#666; font-size:12px;">
                            <i class="ti-location-pin" style="color:#dc6b2f; margin-right:5px;" aria-hidden="true"></i>
                            <span>${CONFIG.contact.location}</span>
                        </div>
                    `,
                    showConfirmButton: false,
                    showCloseButton: true,
                    background: '#050505',
                    backdrop: 'rgba(0,0,0,0.85)',
                    customClass: {
                        popup: 'contact-modal-popup'
                    },
                    didOpen: () => {
                        // Focus en el primer botón de contacto
                        const firstContact = document.querySelector('.contact-link');
                        if (firstContact) firstContact.focus();
                    }
                });
            }
        });

        // ==============================================
        // D. MANEJO DE ERRORES GLOBALES
        // ==============================================
        window.addEventListener('error', function(event) {
            // Detectar errores de carga de recursos
            if (event.target && (event.target.tagName === 'SCRIPT' || event.target.tagName === 'LINK')) {
                console.warn('Error cargando recurso:', event.target.src || event.target.href);
            }
        }, true);

        // Manejar promesas rechazadas no capturadas
        window.addEventListener('unhandledrejection', function(event) {
            console.warn('Promesa rechazada no manejada:', event.reason);
        });
    </script>
</body>
</html>
